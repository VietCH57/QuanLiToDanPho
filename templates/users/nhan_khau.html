{% extends 'base.html' %}

{% block title %}Th√¥ng tin Nh√¢n kh·∫©u - H·ªá th·ªëng Qu·∫£n l√Ω T·ªï D√¢n Ph·ªë{% endblock %}

{% block extra_css %}
<style>
    .info-container {
        max-width: 1000px;
        margin: 40px auto;
        padding: 20px;
    }

    .info-card {
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    .info-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 3px solid #7C3AED;
    }

    .info-header h2 {
        color: #333;
        font-size: 28px;
        margin-bottom: 10px;
    }

    .section-title {
        font-size: 18px;
        font-weight: 600;
        color: #7C3AED;
        margin: 30px 0 15px 0;
        padding-bottom: 10px;
        border-bottom: 2px solid #f0f0f0;
    }

    .info-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 20px;
    }

    .info-item {
        padding: 15px;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #7C3AED;
    }

    .info-item.full-width {
        grid-column: 1 / -1;
    }

    .info-label {
        font-size: 13px;
        color: #666;
        margin-bottom: 5px;
        font-weight: 500;
    }

    .info-value {
        font-size: 16px;
        color: #333;
        font-weight: 600;
    }

    .info-value.empty {
        color: #999;
        font-style: italic;
    }

    .btn-back {
        display: inline-block;
        padding: 12px 30px;
        background: #e0e0e0;
        color: #666;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s;
        margin-top: 20px;
    }

    .btn-back:hover {
        background: #d0d0d0;
    }

    .no-data {
        text-align: center;
        padding: 60px 20px;
    }

    .no-data .icon {
        font-size: 80px;
        margin-bottom: 20px;
    }

    .no-data h3 {
        color: #666;
        margin-bottom: 10px;
    }

    .no-data p {
        color: #999;
    }
</style>
{% endblock %}

{% block content %}
<div class="info-container">
    <div class="info-card">
        <div class="info-header">
            <h2>üë§ Th√¥ng tin Nh√¢n kh·∫©u</h2>
            <p style="color: #666;">Th√¥ng tin c√° nh√¢n c·ªßa b·∫°n</p>
        </div>

        {% if thanh_vien %}
            <!-- PH·∫¶N 1: Th√¥ng tin c√° nh√¢n -->
            <div class="section-title">üìã Th√¥ng tin c√° nh√¢n</div>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">H·ªç v√† t√™n</div>
                    <div class="info-value">{{ thanh_vien.ho_ten }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">B√≠ danh</div>
                    <div class="info-value {% if not thanh_vien.bi_danh %}empty{% endif %}">{{ thanh_vien.bi_danh|default:"Kh√¥ng c√≥" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Ng√†y sinh</div>
                    <div class="info-value">{{ thanh_vien.ngay_sinh|date:"d/m/Y" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Gi·ªõi t√≠nh</div>
                    <div class="info-value">{{ thanh_vien.get_gioi_tinh_display|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">N∆°i sinh</div>
                    <div class="info-value {% if not thanh_vien.noi_sinh %}empty{% endif %}">{{ thanh_vien.noi_sinh|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Nguy√™n qu√°n</div>
                    <div class="info-value {% if not thanh_vien.nguyen_quan %}empty{% endif %}">{{ thanh_vien.nguyen_quan|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">D√¢n t·ªôc</div>
                    <div class="info-value">{{ thanh_vien.dan_toc|default:"Kinh" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Ngh·ªÅ nghi·ªáp</div>
                    <div class="info-value {% if not thanh_vien.nghe_nghiep %}empty{% endif %}">{{ thanh_vien.nghe_nghiep|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item full-width">
                    <div class="info-label">N∆°i l√†m vi·ªác</div>
                    <div class="info-value {% if not thanh_vien.noi_lam_viec %}empty{% endif %}">{{ thanh_vien.noi_lam_viec|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
            </div>

            <!-- PH·∫¶N 2: Th√¥ng tin CCCD -->
            <div class="section-title">ü™™ Th√¥ng tin CCCD</div>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">S·ªë CCCD</div>
                    <div class="info-value">{{ thanh_vien.cccd|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Ng√†y c·∫•p</div>
                    <div class="info-value {% if not thanh_vien.ngay_cap_cccd %}empty{% endif %}">{{ thanh_vien.ngay_cap_cccd|date:"d/m/Y"|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item full-width">
                    <div class="info-label">N∆°i c·∫•p</div>
                    <div class="info-value {% if not thanh_vien.noi_cap_cccd %}empty{% endif %}">{{ thanh_vien.noi_cap_cccd|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
            </div>

            <!-- PH·∫¶N 3: Th√¥ng tin c∆∞ tr√∫ -->
            <div class="section-title">üè† Th√¥ng tin c∆∞ tr√∫</div>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">M√£ h·ªô kh·∫©u</div>
                    <div class="info-value">{{ thanh_vien.ho_gia_dinh.ma_ho }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Quan h·ªá v·ªõi ch·ªß h·ªô</div>
                    <div class="info-value">{{ thanh_vien.quan_he_chu_ho|default:"Th√†nh vi√™n" }}</div>
                </div>
                <div class="info-item full-width">
                    <div class="info-label">ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫ hi·ªán t·∫°i</div>
                    <div class="info-value">{{ thanh_vien.ho_gia_dinh.dia_chi }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Ng√†y ƒëƒÉng k√Ω th∆∞·ªùng tr√∫</div>
                    <div class="info-value {% if not thanh_vien.ngay_dang_ky_thuong_tru %}empty{% endif %}">{{ thanh_vien.ngay_dang_ky_thuong_tru|date:"d/m/Y"|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
                <div class="info-item">
                    <div class="info-label">Tr·∫°ng th√°i c∆∞ tr√∫</div>
                    <div class="info-value">{{ thanh_vien.get_trang_thai_display }}</div>
                </div>
                <div class="info-item full-width">
                    <div class="info-label">ƒê·ªãa ch·ªâ tr∆∞·ªõc khi chuy·ªÉn ƒë·∫øn</div>
                    <div class="info-value {% if not thanh_vien.dia_chi_truoc_chuyen_den %}empty{% endif %}">{{ thanh_vien.dia_chi_truoc_chuyen_den|default:"Ch∆∞a c·∫≠p nh·∫≠t" }}</div>
                </div>
            </div>

            {% if thanh_vien.ghi_chu_thay_doi %}
            <!-- PH·∫¶N 4: Ghi ch√∫ thay ƒë·ªïi -->
            <div class="section-title">üìù Ghi ch√∫ thay ƒë·ªïi</div>
            <div class="info-item full-width">
                <div class="info-value">{{ thanh_vien.ghi_chu_thay_doi }}</div>
            </div>
            {% endif %}

        {% else %}
            <div class="no-data">
                <div class="icon">‚ùå</div>
                <h3>Kh√¥ng t√¨m th·∫•y th√¥ng tin nh√¢n kh·∫©u</h3>
                <p>S·ªë CCCD c·ªßa b·∫°n ch∆∞a ƒë∆∞·ª£c ƒëƒÉng k√Ω trong h·ªá th·ªëng. Vui l√≤ng li√™n h·ªá t·ªï tr∆∞·ªüng ƒë·ªÉ c·∫≠p nh·∫≠t th√¥ng tin.</p>
            </div>
        {% endif %}

        <div style="text-align: center;">
            <a href="{% url 'users:dashboard' %}" class="btn-back">‚Üê Quay l·∫°i Trang ch·ªß</a>
        </div>
    </div>
</div>
{% endblock %}
